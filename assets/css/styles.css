/* Core design system and utilities */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+Devanagari:wght@400;600;700&display=swap');

:root{
  /* Colors */
  --clr-bg:#FAF7F0; 
  --clr-surface:#FFFFFF; 
  --clr-text:#222222; 
  --clr-muted:#5A5A5A;
  --clr-primary:#1F6F50; 
  --clr-accent:#E39B00; 
  --clr-border:#EAE6DE;

  /* Elevation & radii */
  --radius:16px; 
  --shadow-1:0 4px 14px rgba(0,0,0,.06); 
  --shadow-2:0 10px 30px rgba(0,0,0,.08);

  /* Fluid type scale */
  --step--1:clamp(0.9rem,0.84rem + 0.3vw,1rem);
  --step-0: clamp(1rem,0.9rem + 0.6vw,1.125rem);
  --step-1: clamp(1.25rem,1.05rem + 1.2vw,1.6rem);
  --step-2: clamp(1.6rem,1.2rem + 2vw,2.2rem);
  --step-3: clamp(2rem,1.4rem + 3vw,3rem);
  --step-4: clamp(2.6rem,1.6rem + 5vw,4.2rem);

  /* Spacing & layout */
  --space-1:8px; --space-2:12px; --space-3:16px; --space-4:24px;
  --space-5:32px; --space-6:48px; --space-7:72px;
  --container:1200px; 
  --measure:68ch;
}

#expensesChart { max-width: 680px; margin: 0 auto; }

/* Base */
*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0; 
  background:var(--clr-bg); 
  color:var(--clr-text);
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Devanagari", sans-serif;
  font-size:var(--step-0); 
  line-height:1.65;
}
img{ max-width:100%; display:block; }
a{ color:var(--clr-primary); text-decoration:none; }
a:focus{ outline:2px solid var(--clr-accent); outline-offset:2px; }
button{ font-family:inherit; }

/* Layout helpers */
.container{ max-width:var(--container); margin-inline:auto; padding:0 var(--space-4); }
.section{ padding-block:var(--space-6); }
.prose{ max-width:var(--measure); margin-inline:auto; }

/* Typography */
h1{
  font-size:var(--step-4); line-height:1.12; letter-spacing:-.02em;
  margin:0 0 var(--space-4); text-align:center;
}
h2{
  font-size:var(--step-3); line-height:1.18; letter-spacing:-.01em;
  margin:0 0 var(--space-4); text-align:center;
}
h3{ font-size:var(--step-2); line-height:1.22; margin:0 0 var(--space-3); }
p,li{ font-size:var(--step-0); }
.lead{
  font-size:var(--step-1); color:var(--clr-muted);
  text-align:center; margin-inline:auto; max-width:var(--measure);
}

/* Grid */
.grid{ display:grid; gap:var(--space-4); }
.grid-2{ grid-template-columns:repeat(2,minmax(0,1fr)); }
.grid-3{ grid-template-columns:repeat(3,minmax(0,1fr)); }
@media(max-width:900px){
  .grid-2,.grid-3{ grid-template-columns:1fr; }
}

/* Cards & imagery */
.card{
  background:var(--clr-surface); border:1px solid var(--clr-border);
  border-radius:var(--radius); box-shadow:var(--shadow-1);
  padding:var(--space-5);
}
.img-cover{
  width:100%; aspect-ratio:16/9; object-fit:cover;
  border-radius:var(--radius); box-shadow:var(--shadow-1);
}

/* Buttons */
.btn{
  display:inline-flex; align-items:center; gap:.6rem;
  padding:.9rem 1.2rem; border-radius:calc(var(--radius) - 6px);
  border:1px solid transparent; font-weight:600; text-decoration:none;
  transition:transform .18s, box-shadow .18s, background .18s;
}
.btn-primary{ background:var(--clr-primary); color:#fff; }
.btn-primary:hover{ transform:translateY(-1px); box-shadow:var(--shadow-2); }
.btn-outline{ background:transparent; color:var(--clr-primary); border-color:var(--clr-primary); }
.btn-outline:hover{ background:color-mix(in srgb, var(--clr-primary) 6%, white); }
.btn.small{ padding:.5rem .75rem; font-size:var(--step--1); }
.actions{ display:flex; gap:var(--space-3); justify-content:center; flex-wrap:wrap; }
.btn-group{ display:flex; gap:var(--space-3); flex-wrap:wrap; }

/* Stats */
.stat{ display:flex; flex-direction:column; gap:.25rem; text-align:center; align-items:center; }
.stat .value{ font-size:var(--step-3); font-weight:800; color:var(--clr-primary); }
.stat .label{ color:var(--clr-muted); }

/* Forms */
.form{ display:grid; gap:var(--space-4); }
@media(min-width:900px){ .form.two-col{ grid-template-columns:1fr 1fr; } }
.input{ display:flex; flex-direction:column; gap:.4rem; }
.input input,.input select,.input textarea{
  border:1px solid var(--clr-border); border-radius:12px; padding:.9rem 1rem; background:#fff;
}
.input input:focus,.input select:focus,.input textarea:focus{
  outline:2px solid color-mix(in srgb, var(--clr-primary) 25%, #fff);
  border-color:var(--clr-primary);
}
.help{ color:var(--clr-muted); font-size:var(--step--1); text-align:center; }
.error{ color:#B00020; font-size:var(--step--1); }

/* Header / Nav */
.header{
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: saturate(180%) blur(6px);
}

.nav{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .5rem;
  padding: .8rem var(--space-4);
  background: rgba(255,255,255,.86);
  border-bottom: 1px solid var(--clr-border);
}

/* links row */
.nav-links{
  display: flex;
  gap: .5rem .75rem;
  align-items: center;
  flex-wrap: wrap;
  max-width: 100%;
}

.nav a{
  color: var(--clr-text);
  text-decoration: none;
  padding: .6rem .8rem;
  border-radius: 8px;
  position: relative;
}
.nav a:hover::after,
.nav a[aria-current="page"]::after{
  content: "";
  position: absolute;
  left: .8rem; right: .8rem; bottom: 6px;
  height: 2px; background: var(--clr-primary);
}

/* hamburger */
.menu-toggle{
  display: none;
  background: none;
  border: 1px solid var(--clr-border);
  width: 42px; height: 42px;
  border-radius: 10px;
  font-size: 1.2rem;
  cursor: pointer;
  align-items: center; justify-content: center;
}

/* Mobile */
@media (max-width: 768px){
  .menu-toggle{ display: inline-flex; }
  .nav-links{
    display: none;              /* hidden until toggled */
    width: 100%;
    flex-direction: column;
    background: var(--clr-surface);
    border-top: 1px solid var(--clr-border);
    padding: .5rem 0;
  }
  .nav-links.active{ display: flex; }  /* shown when toggled */
  .nav-links a, .nav-links .btn{ width: 100%; text-align: center; }
}

/* Accessibility & motion */
:focus-visible{
  outline:3px solid color-mix(in srgb, var(--clr-primary) 35%, #fff);
  outline-offset:3px; border-radius:8px;
}
@media(prefers-reduced-motion:reduce){ *{ animation:none !important; transition:none !important; } }

/* Skip link */
.skip-link{
  position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; z-index:-999;
}
.skip-link:focus{
  left:0; top:0; width:auto; height:auto; z-index:999;
  padding:1rem; background:var(--clr-accent); color:#fff;
}

/* Hero (optional background image; path is relative to this CSS file) */
.hero{
  background:url('../img/hero-placeholder.svg') no-repeat center/cover;
  color:#fff; text-align:center; padding:4rem 1rem;
}
@media (max-width:600px){ .hero{ padding:2rem 1rem; } }

/* Banner & toast */
.banner{ background:var(--clr-accent); color:#fff; padding:var(--space-2) var(--space-4); border-radius:var(--radius); margin-bottom:var(--space-4); }
.toast{
  position:fixed; bottom:var(--space-4); right:var(--space-4);
  background:var(--clr-text); color:#fff; padding:var(--space-3) var(--space-4);
  border-radius:var(--radius); box-shadow:var(--shadow-2);
  opacity:0; pointer-events:none; transform:translateY(10px);
  transition:opacity .3s, transform .3s;
}
.toast.show{ opacity:1; transform:translateY(0); }

/* Gallery */
.gallery-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:var(--space-4); }
.gallery-grid img{ width:100%; height:auto; }

/* Accordion */
.accordion details{ border-bottom:1px solid var(--clr-border); }
.accordion summary{ cursor:pointer; padding:var(--space-3) 0; font-weight:600; }
.accordion summary::-webkit-details-marker{ display:none; }
.accordion p{ padding-bottom:var(--space-3); }

/* Contact cards */
.contact-cards{ display:grid; gap:var(--space-4); }
@media(min-width:700px){ .contact-cards{ grid-template-columns:repeat(2,minmax(0,1fr)); } }

/* Footer */
footer{ background:var(--clr-text); color:#fff; padding:var(--space-6) 0; margin-top:var(--space-6); }
footer a{ color:#fff; }
.footer-grid{
  display:grid; gap:var(--space-4);
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  margin-bottom:var(--space-4);
}
.social-icons svg{ width:24px; height:24px; fill:#fff; }
/* --- Mobile Nav Overlay Fix --- */
.nav { 
  position: relative; /* allow dropdown to anchor here */
}

@media (max-width: 768px){
  .menu-toggle { 
    display: inline-flex; 
  }

  .nav-links {
    display: none;
    position: absolute;
    top: 100%;      /* drop below top bar */
    left: 0;
    right: 0;
    z-index: 999;
    flex-direction: column;
    background: var(--clr-surface);
    border-top: 1px solid var(--clr-border);
    border-bottom: 1px solid var(--clr-border);
    padding: .5rem 0;
    box-shadow: 0 10px 20px rgba(0,0,0,.08);
    border-radius: 0 0 12px 12px;
  }

  .nav-links.active {
    display: flex; /* reveal on toggle */
  }

  .nav-links a,
  .nav-links .btn {
    width: 100%;
    text-align: center;
    padding: .9rem 1rem; /* comfortable tap targets */
  }

  .nav-links { gap: .25rem; } /* tighter spacing on phones */

  .logo img { 
    max-height: 40px; 
    height: auto; 
  }
}
/* --- Header mobile: logo center, hamburger right --- */
@media (max-width: 768px) {
  .nav {
    justify-content: center;
    position: relative;
  }

  /* center logo */
  .nav .logo {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }

  /* move hamburger to right */
  .menu-toggle {
    position: absolute;
    right: var(--space-4);
    top: 50%;
    transform: translateY(-50%);
  }

  /* keep nav links full width dropdown */
  .nav-links {
    width: 100%;
  }
}
